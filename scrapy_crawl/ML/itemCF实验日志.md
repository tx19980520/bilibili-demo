# itemCF实验日志

## 4.19

今天对于算法有了一个初步的试探，测试了下代码的可用性，发现基本来讲是可用的，但是还有很多的地方需要改进，发现了一些之前没有想过的问题，并提出了一个自己认为能够让人信服的理由

1. 部分番剧相对于所有的番剧的距离都非常的远，主要是在于该番剧太过于热门，导致的我们很多的用户都会去关注该番剧，并且关注了其他的番剧，这导致我们的热门番剧称为一种四不像的情况，因而存在与各番的相似程度都很低，对于这个问题我现在的解决方式是，引入番剧tag的进行权值的调整，引入热门程度的调整。我准备按照b站播放量/集的顺序为基准，针对几个方面的状态进行一次退火

## 4.20

hack了相关的内部代码，暂且知道了自行写metric的正确方式，准备对于我们的代码进行进一步的改进，先保证能够从我们的其他方面数据入手来干预我们的相似度，并且打压我们的高热番剧的情况，暂且想到的是使用改进公式，以及加入我们的tag系统进行一个模拟，再加上现有的bilibili评分系统

## 4.22

准备测一个cosine similarity 看一下改变值会不会有变化，可以用于区分大会员和普通用户
由于b站才推出打分制度，我不太确定是不是很多老番有被涉及是否考虑用其他量来解释这个东西 
rank不应该只单独作为一个指标去影响，应该还去在cosine similarity中去影响
确定以及算的是相似度还是距离

## 4.23

现在我们的自我评测的算法是平方和开方，这个距离我可能还会有新的距离计算，一方面是要契合我的原有公式，另一方面，可能得更卡贴近于实际，想到可能有九个番对某番都贴近，但是最后那个番的突然一下会把我们的距离突然拉大，导致出我们的预测会变大，其次就是我们的那单独一个番，会导致个性化被抹掉，这也不利于我们的推荐的个性化。对于这个我们将可能先用简单的聚类的方法来进行一个优化
第二个部分，根据我们的vip不应该与我们的一般用户一样的权重程度，这个我们为了降低我们的流行率，我们需要降低vip在cosine similarity的权重，我在昨晚的实验中也证明了这个观点，我们的误差明显的增大了，我们的预测发生了很大部分的变化，这说明我们的数据对于这个情况下的波动比较大的，可研究的部分还非常的多，自己这样增大我们的牺牲准确率，提高推荐覆盖率，暂且不知道是不是非常好的情况我们需要进一步来进行推荐我们甚至可以去用开启我们的退火，只不过会非常卡。但我觉得跑出这样的一个结果是非常重要的，他可能是不精确的，可能是非常奇怪的，但是他是理论上的极值点，可能会反应一些问题。
关于我图里面那个两个紫线的原因到次我还没找到，需要给出一个具体的解释。
接下来的中我们将写一些接口进行封装，为了给不同人以不同的口味，我们需要有训练出对声优，对国漫，对日漫的，我们需要一个参数来解决这个问题。
问题还很多啊，少年仍需前行

## 4.24

根据23日对于相关聚类方法的遍历，我放弃了预先对于我们的数据进行处理的这样一个想法（毕竟如果要上线，我得考虑到这个服务器的），但是我发现我无法避免这个情况，我只能是得到了用户的相关数据来了之后我们再进行我们的简单聚类的方法进行简单区分，这个距离的度量是我们item_similarity除去这我们要进行比较的项，之后进行比较，现阶段是我们的只进行二分。我们再通过对于分开进行番剧的推荐，之后我们进行我们的重新组合，我想的是，再一次合并两类，按照数字越小再进行一个区分（虽然这必然会造成一些误差，但是这样比较快）。我们可能会需要调用退火来调整我们的代码，我们得控制好我们的rank，tag，actor这三者之间的关系。